"use strict";(self.webpackChunkrlayers=self.webpackChunkrlayers||[]).push([[2836],{2836:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var o=n(6540),a=n(3407),r=n(1365),s=(n(5045),n(7240)),i=n(2381);const l="https://raw.githubusercontent.com/gregoiredavid/france-geojson/master/departements.geojson",m=new r.A({featureProjection:"EPSG:3857"}),p=fetch("https://public.opendatasoft.com/api/records/1.0/search/?dataset=population-francaise-par-departement-2018&q=&rows=200").then((e=>e.json())),c=(e,t)=>{var n,o;return null!==(o=null===(n=e.records.find((e=>e.fields.code_departement===t)))||void 0===n?void 0:n.fields.population)&&void 0!==o?o:0};function u(){const[e,t]=o.useState({records:[]}),[n,r]=o.useState(null);return o.useEffect((()=>{p.then((e=>t(e)))}),[]),o.createElement("div",{className:"d-flex flex-row"},o.createElement(s.f9,{className:"example-map",initial:(0,o.useMemo)((()=>({center:(0,a.Rb)([2,46.5]),zoom:5.75})),[]),noDefaultControls:!0,noDefaultInteractions:!0},o.createElement(i.A,{layer:"stamen_toner"}),o.createElement(s.j9,{zIndex:5,format:m,url:l,onPointerEnter:(0,o.useCallback)((e=>r(e.target)),[]),onPointerLeave:(0,o.useCallback)((e=>n===e.target&&r(null)),[n])},o.createElement(s.cq.RStyle,{render:(0,o.useCallback)((t=>o.createElement(s.cq.RFill,{color:`rgba(0, 0, ${c(e,t.get("code"))/5e3}, 0.75)`})),[e])})),o.createElement(s.j9,{zIndex:10},n?o.createElement("div",null,o.createElement(s.Dp,{geometry:n.getGeometry()},o.createElement(s.Rv,{className:"example-overlay",autoPosition:!0},"Population in ",o.createElement("strong",null,n.get("nom"))," in 2018 is"," ",o.createElement("strong",null,c(e,n.get("code")))))):null)))}s.Dp.hitTolerance=0},2381:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(945),a=n(5042),r=n(2662);class s extends r.A{constructor(e,t){var n;super(e,t),this.source=new a.A({layer:this.props.layer,apiKey:this.props.apiKey,retina:null!==(n=this.props.retina)&&void 0!==n&&n}),this.ol=new o.A({source:this.source}),this.eventSources=[this.ol,this.source]}}},5042:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(702),a=n(7896);const r={stamen_terrain:{extension:"png",opaque:!0},stamen_terrain_background:{extension:"png",opaque:!0},stamen_terrain_labels:{extension:"png",opaque:!1},stamen_terrain_lines:{extension:"png",opaque:!1},stamen_toner_background:{extension:"png",opaque:!0},stamen_toner:{extension:"png",opaque:!0},stamen_toner_labels:{extension:"png",opaque:!1},stamen_toner_lines:{extension:"png",opaque:!1},stamen_toner_lite:{extension:"png",opaque:!0},stamen_watercolor:{extension:"jpg",opaque:!0},alidade_smooth:{extension:"png",opaque:!0},alidade_smooth_dark:{extension:"png",opaque:!0},outdoors:{extension:"png",opaque:!0},osm_bright:{extension:"png",opaque:!0}},s={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class i extends o.A{constructor(e){const t=e.layer.indexOf("-"),n=-1==t?e.layer:e.layer.slice(0,t),o=s[n]||{minZoom:0,maxZoom:20,retina:!0},i=r[e.layer],l=e.apiKey?"?api_key="+e.apiKey:"",m=o.retina&&e.retina?"@2x":"",p=void 0!==e.url?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+m+"."+i.extension+l,c=['&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>','&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',a.o];e.layer.startsWith("stamen_")&&c.splice(1,0,'&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>'),super({attributions:c,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:o.maxZoom,minZoom:void 0!==e.minZoom?e.minZoom:o.minZoom,opaque:i.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:p,tilePixelRatio:m?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}}const l=i}}]);