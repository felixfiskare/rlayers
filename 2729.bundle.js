"use strict";(self.webpackChunkrlayers=self.webpackChunkrlayers||[]).push([[2729],{6308:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"32ba7744565a0c818ef0e2e35126abbb.geojson"},2729:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(6540),o=a(3407),r=a(1365),s=a(915),i=(a(5045),a(7240)),l=a(5111),c=a(2381),m=a(6308);const u=new r.A({featureProjection:"EPSG:3857"}),p=e=>"rgba("+[255,153,0,Math.min(.8,.4+Math.log(e/10)/20)].join()+")",g=e=>Math.round(5*(parseFloat(e.get("mag"))-2.5)),d=(e,t)=>{const a=(0,s.S5)();for(const t of e)(0,s.X$)(a,t.getGeometry().getExtent());return Math.round(.25*((0,s.RG)(a)+(0,s.Oq)(a)))/t};function h(){const[e,t]=n.useState(20),[a,r]=n.useState("Click a cluster for details"),s=n.useRef();return n.createElement(n.Fragment,null,n.createElement(i.f9,{className:"example-map",initial:{center:(0,o.Rb)([0,0]),zoom:1}},n.createElement(c.A,{layer:"stamen_toner"}),n.createElement(i.od,{ref:s,distance:e,format:u,url:m.A,onClick:n.useCallback((e=>{var t;const a=null!==(t=e.target.get("features"))&&void 0!==t?t:[];r(`${a.length} earthquakes in this location, magnitudes are ${a.map((e=>e.get("mag"))).join(", ")}`)}),[])},n.createElement(l.RStyle,{cacheSize:1024,cacheId:(0,n.useCallback)(((e,t)=>e.get("features").length>1?"#"+d(e.get("features"),t):"$"+g(e.get("features")[0])),[]),render:(0,n.useCallback)(((e,t)=>{const a=e.get("features").length;if(a>1){const o=d(e.get("features"),t);return n.createElement(n.Fragment,null,n.createElement(l.RCircle,{radius:o},n.createElement(l.RFill,{color:p(a)})),n.createElement(l.RText,{text:a.toString()},n.createElement(l.RFill,{color:"#fff"}),n.createElement(l.RStroke,{color:"rgba(0, 0, 0, 0.6)",width:3})))}const o=e.get("features")[0];return n.createElement(l.RRegularShape,{radius1:g(o),radius2:3,points:5,angle:Math.PI},n.createElement(l.RFill,{color:"rgba(255, 153, 0, 0.8)"}),n.createElement(l.RStroke,{color:"rgba(255, 204, 0, 0.2)",width:1}))}),[])}))),n.createElement("div",{className:"my-3 w-100"},n.createElement("label",{htmlFor:"distance"},"Clustering distance"),n.createElement("div",{className:"w-100"},n.createElement("input",{type:"range",className:"range-slider range-slider--primary w-100",min:"5",max:"50",id:"distance",value:e,onChange:(0,n.useCallback)((e=>t(parseInt(e.currentTarget.value))),[])}))),n.createElement("div",null,a))}},2381:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(945),o=a(5042),r=a(2662);class s extends r.A{constructor(e,t){var a;super(e,t),this.source=new o.A({layer:this.props.layer,apiKey:this.props.apiKey,retina:null!==(a=this.props.retina)&&void 0!==a&&a}),this.ol=new n.A({source:this.source}),this.eventSources=[this.ol,this.source]}}},5042:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(702),o=a(7896);const r={stamen_terrain:{extension:"png",opaque:!0},stamen_terrain_background:{extension:"png",opaque:!0},stamen_terrain_labels:{extension:"png",opaque:!1},stamen_terrain_lines:{extension:"png",opaque:!1},stamen_toner_background:{extension:"png",opaque:!0},stamen_toner:{extension:"png",opaque:!0},stamen_toner_labels:{extension:"png",opaque:!1},stamen_toner_lines:{extension:"png",opaque:!1},stamen_toner_lite:{extension:"png",opaque:!0},stamen_watercolor:{extension:"jpg",opaque:!0},alidade_smooth:{extension:"png",opaque:!0},alidade_smooth_dark:{extension:"png",opaque:!0},alidade_satellite:{extension:"png",opaque:!0},outdoors:{extension:"png",opaque:!0},osm_bright:{extension:"png",opaque:!0}},s={stamen_terrain:{minZoom:0,maxZoom:18,retina:!0},stamen_toner:{minZoom:0,maxZoom:20,retina:!0},stamen_watercolor:{minZoom:1,maxZoom:18,retina:!1}};class i extends n.A{constructor(e){const t=e.layer.indexOf("-"),a=-1==t?e.layer:e.layer.slice(0,t),n=s[a]||{minZoom:0,maxZoom:20,retina:!0},i=r[e.layer],l=e.apiKey?"?api_key="+e.apiKey:"",c=n.retina&&e.retina?"@2x":"",m=void 0!==e.url?e.url:"https://tiles.stadiamaps.com/tiles/"+e.layer+"/{z}/{x}/{y}"+c+"."+i.extension+l,u=['&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a>','&copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a>',o.o];e.layer.startsWith("stamen_")&&u.splice(1,0,'&copy; <a href="https://stamen.com/" target="_blank">Stamen Design</a>'),super({attributions:u,cacheSize:e.cacheSize,crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:n.maxZoom,minZoom:void 0!==e.minZoom?e.minZoom:n.minZoom,opaque:i.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:m,tilePixelRatio:c?2:1,wrapX:e.wrapX,zDirection:e.zDirection})}}const l=i}}]);